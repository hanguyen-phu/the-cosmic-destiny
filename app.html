<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Cosmic Destiny</title>
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;800&family=EB+Garamond:wght@400;600&display=swap" rel="stylesheet">

</head>

  <body>
<script>
if (performance.navigation.type === 1) {
  window.location.href = "/";
}
</script>

  
<canvas id="stars"></canvas>

<header class="mystic-header">
  <h1 class="logo">CELESTIAL CODE</h1>
  <h2 class="slogan">
    How many springs are left in your soul?
  </h2>

  <div class="zodiac-layer">
    <span>ğŸ€</span>
    <span>ğŸ‚</span>
    <span>ğŸ…</span>
    <span>ğŸ‡</span>
    <span>ğŸ‰</span>
    <span>ğŸ</span>
    <span>ğŸ</span>
    <span>ğŸ</span>
    <span>ğŸ’</span>
    <span>ğŸ“</span>
    <span>ğŸ•</span>
    <span>ğŸ–</span>
  </div>
</header>

<section class="cosmic-body">

  <div class="input-group">
    <div class="input-box">
      <label>Há» vÃ  tÃªn</label>
      <input type="text" id="name" placeholder="Nháº­p há» tÃªn cá»§a báº¡n">
    </div>

    <div class="input-box">
      <label>NgÃ y sinh</label>
      <input type="date" id="dob">
    </div>
  </div>

  <div class="feature-grid">
    
    <!-- ÄOÃN TUá»”I THá»Œ -->
    <div class="feature-card" onclick="activateCard(this, predictLife, event)">
      <svg viewBox="0 0 24 24">
        <path d="M12 2v20M2 12h20"/>
      </svg>
      <h3>ÄoÃ¡n Tuá»•i Thá»</h3>
      <p>KhÃ¡m phÃ¡ sá»‘ nÄƒm cÃ²n láº¡i cá»§a báº¡n</p>
    </div>

    <!-- CUNG HOÃ€NG Äáº O -->
    <div class="feature-card" onclick="activateCard(this, zodiacReveal, event)">
      <svg viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="8"/>
      </svg>
      <h3>Cung HoÃ ng Äáº¡o</h3>
      <p>Giáº£i mÃ£ báº£n cháº¥t thiÃªn má»‡nh cá»§a báº¡n</p>
    </div>

    <!-- Má»†NH KHÃ -->
    <div class="feature-card" onclick="activateCard(this, energyFlow, event)">
      <svg viewBox="0 0 24 24">
        <path d="M13 2L3 14h7l-1 8 10-12h-7z"/>
      </svg>
      <h3>Má»‡nh KhÃ­</h3>
      <p>Chá»‰ sá»‘ nÄƒng lÆ°á»£ng vÃ  váº­n khÃ­ cÃ¡ nhÃ¢n</p>
    </div>

  </div>

</section>

<!-- =========================
     PAGE OVERLAY - LIFE PAGE (COSMIC HOURGLASS)
========================= -->

<div class="page-overlay" id="lifePage">
  <div class="page-content" id="lifePageContent">

    <button class="back-btn" onclick="closePage()">â† Trá»Ÿ vá»</button>

    <h2 class="page-title">ğŸ”® ÄoÃ¡n Tuá»•i Thá»</h2>

    <!-- LIFESTYLE QUIZ PANEL -->
    <div id="lifestylePanel" class="lifestyle-panel">
      <div class="lifestyle-intro">
        <p class="lifestyle-sub">Ta cáº§n biáº¿t thÃªm thÃ´ng tin cá»§a ngÆ°Æ¡i Ä‘á»ƒ tÃ­nh toÃ¡n thiÃªn má»‡nh</p>
      </div>
      <div class="lifestyle-questions" id="lifestyleQuestions">

        <div class="lq-item">
          <div class="lq-label">ğŸŒ™ ThÃ³i quen ngá»§</div>
          <div class="lq-options">
            <button class="lq-btn" data-key="sleep" data-val="2" onclick="selectLQ(this)">Ngá»§ Ä‘á»§ 8 tiáº¿ng</button>
            <button class="lq-btn" data-key="sleep" data-val="0" onclick="selectLQ(this)">5-6 tiáº¿ng</button>
            <button class="lq-btn" data-key="sleep" data-val="-3" onclick="selectLQ(this)">CÃº Ä‘Ãªm</button>
          </div>
        </div>

        <div class="lq-item">
          <div class="lq-label">ğŸƒ Váº­n Ä‘á»™ng</div>
          <div class="lq-options">
            <button class="lq-btn" data-key="exercise" data-val="4" onclick="selectLQ(this)">Táº­p thá»ƒ dá»¥c Ä‘á»u</button>
            <button class="lq-btn" data-key="exercise" data-val="1" onclick="selectLQ(this)">Thá»‰nh thoáº£ng</button>
            <button class="lq-btn" data-key="exercise" data-val="-2" onclick="selectLQ(this)">KhÃ´ng táº­p</button>
          </div>
        </div>

        <div class="lq-item">
          <div class="lq-label">ğŸ¥— Cháº¿ Ä‘á»™ Äƒn</div>
          <div class="lq-options">
            <button class="lq-btn" data-key="diet" data-val="3" onclick="selectLQ(this)">Ä‚n uá»‘ng lÃ nh máº¡nh</button>
            <button class="lq-btn" data-key="diet" data-val="0" onclick="selectLQ(this)">BÃ¬nh thÆ°á»ng</button>
            <button class="lq-btn" data-key="diet" data-val="-3" onclick="selectLQ(this)">Ä‚n uá»‘ng tÃ¹y há»©ng</button>
          </div>
        </div>

        <div class="lq-item">
          <div class="lq-label">ğŸ˜° Má»©c Ä‘á»™ stress</div>
          <div class="lq-options">
            <button class="lq-btn" data-key="stress" data-val="2" onclick="selectLQ(this)">TÃ¢m thÃ¡i bÃ¬nh an</button>
            <button class="lq-btn" data-key="stress" data-val="-2" onclick="selectLQ(this)">ÄÃ´i lÃºc lo Ã¢u</button>
            <button class="lq-btn" data-key="stress" data-val="-5" onclick="selectLQ(this)">Ãp lá»±c cao</button>
          </div>
        </div>

        <div class="lq-item">
          <div class="lq-label">ğŸš¬ ThÃ³i quen xáº¥u</div>
          <div class="lq-options">
            <button class="lq-btn" data-key="vice" data-val="2" onclick="selectLQ(this)">KhÃ´ng cÃ³</button>
            <button class="lq-btn" data-key="vice" data-val="-4" onclick="selectLQ(this)">Uá»‘ng nhiá»u Cafe, nÆ°á»›c ngá»t</button>
            <button class="lq-btn" data-key="vice" data-val="-7" onclick="selectLQ(this)">HÃºt thuá»‘c, uá»‘ng rÆ°á»£u bia</button>
          </div>
        </div>

      </div>

      <button class="cosmic-predict-btn" id="cosmicPredictBtn" onclick="startCosmicHourglass()" disabled>
        <span class="cpb-inner">ğŸ”® TiÃªn ÄoÃ¡n ThiÃªn Má»‡nh</span>
      </button>
    </div>

    <!-- COSMIC HOURGLASS ARENA -->
    <div id="cosmicArena" class="cosmic-arena" style="display:none">

      <!-- Warp speed background -->
      <canvas id="warpCanvas" class="warp-canvas" style="opacity:0"></canvas>

      <!-- TWO-COLUMN RESULT LAYOUT -->
      <div class="arena-columns" id="arenaColumns" style="display:none; opacity:0">

        <!-- LEFT: result text -->
        <div class="arena-left" id="arenaLeft">

          <div class="al-lived-row">
            <div class="al-stat">
              <div class="al-stat-label">â³ ÄÃƒ Sá»NG</div>
              <div class="al-stat-num lived" id="hgLivedNum" style="color: #ffa500;font-weight: 700;text-shadow:0 0 12px rgba(255,165,0,0.9),0 0 30px rgba(255,120,0,0.6);">â€”</div>
              <div class="al-stat-unit" style="font-size: 14px;letter-spacing: 2px;font-weight: 600;opacity: 1;color: #ffcc66;text-shadow: 0 0 6px rgba(255,200,100,0.7);">nÄƒm</div>
            </div>
            <div class="al-stat">
              <div class="al-stat-label">âœ¨ CÃ’N Láº I</div>
              <div class="al-stat-num remain" id="hgRemainNum" style="color: #00ffc8;font-weight: 700;text-shadow:0 0 12px rgba(0,255,200,0.9),0 0 30px rgba(0,200,255,0.6);">â€”</div>
              <div class="al-stat-unit" style="font-size: 14px;letter-spacing: 2px;font-weight: 600;opacity: 1;color: #8afff0;text-shadow: 0 0 6px rgba(0,255,220,0.7);">nÄƒm</div>
            </div>
          </div>

          <!-- Revelation â€” shown after hold -->
          <div class="al-revelation" id="hgRevelation" style="opacity:0; transform:translateY(20px)">
            <div class="al-rev-number" id="hgRevNumber" style="margin-bottom: 25px ;"></div>
            <div class="al-rev-sub" id="hgRevSub"></div>
          </div>

          <!-- Symbol -->
          <div class="al-symbol" id="hgBottomSymbol" style="opacity:0"></div>

          <!-- Bonus / dark matter + stats -->
          <div id="arenaResultExtra"></div>

        </div>

        <!-- RIGHT: pure-CSS hourglass + stardust canvas -->
        <div class="arena-right" id="arenaRight">

          <div class="hg-wrapper" id="hgWrapper">

            <!-- Magic ring top -->
            <div class="magic-ring ring-top" id="ringTop"></div>

            <!-- Top bulb -->
            <div class="hg-top" id="hgTop">
              <div class="hg-glass-top">
                <div class="sand-top" id="sandTop"></div>
              </div>
            </div>

            <!-- Neck / singularity -->
            <div class="hg-neck" id="hgNeck">
              <div class="singularity"></div>
              <div class="neck-flow"></div>
            </div>

            <!-- Bottom bulb -->
            <div class="hg-bottom" id="hgBottom">
              <div class="hg-glass-bottom">
                <div class="sand-bottom" id="sandBottom"></div>
              </div>
            </div>

            <!-- Magic ring bottom -->
            <div class="magic-ring ring-bottom" id="ringBottom"></div>

            <!-- Stardust canvas overlay -->
            <canvas id="stardustCanvas" class="stardust-canvas"></canvas>

            <!-- Neck touch zone -->
            <div class="hg-neck-touch" id="hgNeckTouch">
              <div class="hg-neck-pulse"></div>
              <div class="hg-neck-hint">Cháº¡m &amp; Giá»¯</div>
              <!-- Hold progress ring drawn via SVG -->
              <svg class="hold-svg" id="holdSvg" viewBox="0 0 80 80">
                <circle cx="40" cy="40" r="34" fill="none" stroke="rgba(0,255,200,0.15)" stroke-width="3"/>
                <circle id="holdArc" cx="40" cy="40" r="34" fill="none"
                        stroke="rgba(0,255,200,0.9)" stroke-width="3"
                        stroke-linecap="round"
                        stroke-dasharray="213.6"
                        stroke-dashoffset="213.6"
                        transform="rotate(-90 40 40)"/>
              </svg>
            </div>

          </div>

        </div>
      </div>

    </div>


    <!-- legacy anchors for JS compat -->
    <div id="lifeNumber" style="display:none"></div>

  </div>
</div>

<!-- =========================
     PAGE OVERLAY - ZODIAC PAGE
========================= -->

<!-- =========================
     PAGE OVERLAY - ZODIAC PAGE
========================= -->

<div class="page-overlay" id="zodiacPage">

  <!-- Background linh váº­t -->
  <div class="zodiac-bg" id="zodiacBg"></div>
<div class="zodiac-spirit" id="zodiacSpirit"></div>
  <!-- Canvas váº½ chÃ²m sao -->
  <canvas id="zodiacCanvas"></canvas>

  <div class="page-content">

    <button class="back-btn" onclick="closeZodiac()">â† Trá»Ÿ vá»</button>

    <h2 class="page-title">âœ¨ Cung HoÃ ng Äáº¡o</h2>

    <div class="zodiac-header">
  <div class="zodiac-result" id="zodiacResult"></div>
  <img id="zodiacImage" class="zodiac-image" src="" alt="">
</div>

    <div class="zodiac-description" id="zodiacDescription"></div>

  </div>
</div>

<div class="page-overlay" id="energyPage">

  <div class="page-content">

    <button class="back-btn" onclick="closeEnergy()">â† Trá»Ÿ vá»</button>
    <h2 class="page-title">âš¡ Má»‡nh KhÃ­</h2>

    <div class="energy-layout">

      <!-- BÃŠN TRÃI: chá»‰ lÃ¡ tarot -->
      <div class="energy-left">
        <!-- Hidden holders for JS compatibility -->
        <div id="energyResult" style="display:none"></div>
        <div id="energyProphecy" style="display:none"></div>

        <!-- LÃ¡ bÃ i tarot chi tiáº¿t -->
        <div class="energy-card energy-card-bottom" id="energyCard2">
          <div id="energyRelations"></div>
        </div>
      </div>

      <!-- VÃ’NG PHáº¢I -->
<div class="energy-right">

  <svg viewBox="0 0 600 600" class="five-svg" id="fiveSVG">
    <defs>
      <filter id="glow-active" x="-40%" y="-40%" width="180%" height="180%">
        <feGaussianBlur stdDeviation="8" result="blur"/>
        <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
      </filter>
      <filter id="glow-user" x="-30%" y="-30%" width="160%" height="160%">
        <feGaussianBlur stdDeviation="5" result="blur"/>
        <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
      </filter>
      <filter id="glow-sinh" x="-20%" y="-20%" width="140%" height="140%">
        <feColorMatrix type="matrix" values="0 0 0 0 0  1 0 0 0 0.8  0 0 0 0 0.5  0 0 0 0.6 0" result="green"/>
        <feGaussianBlur in="green" stdDeviation="4" result="blur"/>
        <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
      </filter>
      <filter id="glow-khac" x="-20%" y="-20%" width="140%" height="140%">
        <feColorMatrix type="matrix" values="1 0 0 0 0.8  0 0 0 0 0  0 0 0 0 0  0 0 0 0.5 0" result="red"/>
        <feGaussianBlur in="red" stdDeviation="4" result="blur"/>
        <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
      </filter>
    </defs>
    <!-- VÃ²ng ná»n -->
    <circle cx="300" cy="300" r="210"
            fill="none"
            stroke="rgba(255,255,255,0.08)"
            stroke-width="2"/>

    <!-- Há»A -->
    <circle cx="300" cy="90" r="52" fill="#cc2e00" id="el-Há»a" class="el-node"/>
    <text x="300" y="86" text-anchor="middle" fill="white" font-size="13" font-family="Cinzel,serif" font-weight="bold">Há»A</text>
    <text x="300" y="103" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="18">ğŸ”¥</text>

    <!-- THá»” -->
    <circle cx="490" cy="240" r="52" fill="#a07020" id="el-Thá»•" class="el-node"/>
    <text x="490" y="236" text-anchor="middle" fill="white" font-size="13" font-family="Cinzel,serif" font-weight="bold">THá»”</text>
    <text x="490" y="253" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="18">â›°ï¸</text>

    <!-- KIM -->
    <circle cx="400" cy="460" r="52" fill="#707070" id="el-Kim" class="el-node"/>
    <text x="400" y="456" text-anchor="middle" fill="white" font-size="13" font-family="Cinzel,serif" font-weight="bold">KIM</text>
    <text x="400" y="473" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="18">âš”ï¸</text>

    <!-- THá»¦Y -->
    <circle cx="200" cy="460" r="52" fill="#005faa" id="el-Thá»§y" class="el-node"/>
    <text x="200" y="456" text-anchor="middle" fill="white" font-size="13" font-family="Cinzel,serif" font-weight="bold">THá»¦Y</text>
    <text x="200" y="473" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="18">ğŸ’§</text>

    <!-- Má»˜C -->
    <circle cx="110" cy="240" r="52" fill="#007a3a" id="el-Má»™c" class="el-node"/>
    <text x="110" y="236" text-anchor="middle" fill="white" font-size="13" font-family="Cinzel,serif" font-weight="bold">Má»˜C</text>
    <text x="110" y="253" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="18">ğŸŒ¿</text>

  </svg>

</div>
    </div>

  </div>

</div>

<div class="mystic-modal" id="mysticModal">
  <div class="mystic-box">
    <h2>NhÃ  ngÆ°Æ¡i cÃ³ quÃªn Ä‘iá»u gÃ¬ khÃ´ng?</h2>
  </div>
</div>

<!-- ===== LUCKY ENVELOPE BUTTON ===== -->
<div class="lixi-btn" onclick="openLixi()">
  ğŸ§§
</div>

<!-- ===== LIXI PAGE ===== -->
<div class="page-overlay" id="lixiPage">
  <div class="page-content">
    <button class="back-btn" onclick="closeLixi()">â† Trá»Ÿ vá»</button>
    <h2 class="page-title">ğŸ§§ LÃ¬ xÃ¬ chá»§ thá»›t</h2>

    <div class="lixi-container" id="lixiContainer">
      <div class="lixi-item" onclick="openEnvelope(this)"></div>
      <div class="lixi-item" onclick="openEnvelope(this)"></div>
      <div class="lixi-item" onclick="openEnvelope(this)"></div>
      <div class="lixi-item" onclick="openEnvelope(this)"></div>
      <div class="lixi-item" onclick="openEnvelope(this)"></div>
    </div>

    <div class="lixi-result" id="lixiResult"></div>
  </div>
</div>

<!-- ===== DONATE PAGE ===== -->
<div class="page-overlay" id="donatePage">
  <div class="page-content">

    <button class="back-btn" onclick="closeDonate()">â† Trá»Ÿ vá»</button>

    <h2 class="page-title">ğŸ§§ Xin cáº£m Æ¡n Ä‘Ã£ Ä‘Ã´ náº¿t</h2>
<div class="donate-images">
    <img src="/assets/elements/1.png" class="donate-meme" alt="Meme">

    <img src="/assets/elements/2.png" class="qr-image" alt="QR Code">
</div>
    <div class="qr-text">
      CÃ ng nhiá»u cÃ ng Ã­t
    </div>

  </div>
</div>


<!-- MAGIC CIRCLE OVERLAY â€” direct body child so position:fixed works -->
<div id="magicCircleWrap" style="display:none"
     class="magic-circle-wrap">
  <canvas id="magicCircleCanvas"></canvas>
  <div class="mc-label" id="mcLabel">â¬¡ ÄANG QUÃ‰T THIÃŠN CÆ  â¬¡</div>
</div>

<script src="script.js"></script>

</body>
</html>